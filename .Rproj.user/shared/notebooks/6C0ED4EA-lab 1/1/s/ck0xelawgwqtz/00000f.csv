"0","pv2p_2024_states <- d_pvstate_wide |>"
"0","  filter(year == 2020) |>"
"0","  group_by(state) |>"
"0","  mutate(R_pv2p_2024 = 0.75*R_pv2p + 0.25*R_pv2p_lag1, "
"0","        D_pv2p_2024 = 0.75*D_pv2p + 0.25*D_pv2p_lag1, "
"0","        pv2p_2024_swing = D_pv2p_2024 - D_pv2p, "
"0","        flip = ifelse(pv2p_2024_swing > 0, ""D"", ""R""), "
"0","        region = tolower(state)) |>"
"0","  select(pv2p_2024_swing, flip, region)"
"1","[38;5;232mAdding missing grouping variables: `state`[39m
"
"0","pv2p_2024_states |>"
"0","  left_join(states_map, by = ""region"") |>"
"0","  ggplot(aes(long, lat, group = group)) + "
"0","  geom_polygon(aes(fill = pv2p_2024_swing), color = ""black"") +"
"0","  scale_fill_gradient2(high = ""dodgerblue4"", "
"0","                       low = ""firebrick"", "
"0","                       mid = ""white"", "
"0","                       name = ""swing"") +"
"0","  theme_void()"
