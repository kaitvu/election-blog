"0","# state sept polling and demographics model prediction"
"0","w5_24 <- w3_24 |>"
"0","  left_join(race_table, by = ""state"") |>"
"0","  rename(african_american = `African-American`, "
"0","         asian = Asian, "
"0","         non_hispanic_white = `Non-Hispanic White`, "
"0","         hispanic = Hispanic, "
"0","         native_american = `Native American`) |>"
"0","  select(-`Other Race`) |>"
"0","  drop_na()"
"0",""
"0","w5_pred <- predict(w5_reg, w5_24, interval = ""prediction"")"
"0",""
"0","w5_table <- bind_cols(w5_24,"
"0","  as.data.frame(w5_pred) |> rename_with(~paste0(""D_"", .))) |>"
"0","  mutate(D_fit = round(D_fit, 2), "
"0","         D_lwr = round(D_lwr, 2), "
"0","         D_upr = round(D_upr, 2), "
"0","         winner = if_else(D_fit>50, ""Harris"", ""Trump"")) |>"
"0","  filter(state %in% c(""Arizona"", ""Florida"", ""Georgia"", ""Michigan"", ""Minnesota"", ""Nevada"", ""New Hampshire"", ""New Mexico"", ""North Carolina"", ""Pennsylvania"", ""Texas"", ""Virginia"", ""Wisconsin"")) |>"
"0","  select(state, D_fit, D_lwr, D_upr, winner)"
"0",""
"0","# table 5: state sept polling and demographics model prediction"
"0","knitr::kable(w5_table, "
"0","             col.names = c(""State"", ""Prediction"", ""Lower Bound"", ""Upper Bound"", ""Winner"")) |>"
"0","  kableExtra::kable_styling(full_width = FALSE) |>"
"0","  kableExtra::row_spec(row = which(w5_table$winner == ""Harris""), background = ""#D3E5FF"") |>"
"0","  kableExtra::row_spec(row = which(w5_table$winner == ""Trump""), background = ""#FFD1D1"")"
