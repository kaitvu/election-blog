"0","# hide code"
"0","knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE, error = FALSE)"
"0",""
"0","# import libraries"
"0","library(car)"
"0","library(caret)"
"0","library(CVXR)"
"0","library(glmnet)"
"0","library(tidyverse)"
"0","library(patchwork)"
"0","library(knitr)"
"0","library(sjPlot)"
"0","library(kableExtra)"
"0","library(maps)"
"0","library(readr)"
"0","library(stringr)"
"0","library(readxl)"
"0",""
"0","# import data"
"0","d_pollav_nat <- read_csv(""national_polls_1968-2024.csv"")"
"1","[1mRows: [22m[34m7408[39m [1mColumns: [22m[34m9[39m
"
"1","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m  (3): state, party, candidate
[32mdbl[39m  (4): year, weeks_left, days_left, poll_support
[33mlgl[39m  (1): before_convention
[34mdate[39m (1): poll_date
"
"1","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message.
"
"0","d_pollav_state <- read_csv(""state_polls_1968-2024.csv"")"
"1","[1mRows: [22m[34m205100[39m [1mColumns: [22m[34m9[39m
"
"1","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m  (3): state, party, candidate
[32mdbl[39m  (4): year, weeks_left, days_left, poll_support
[33mlgl[39m  (1): before_convention
[34mdate[39m (1): poll_date
"
"1","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message.
"
"0","fred_econ <- read_csv(""fred_econ.csv"") |>"
"0","  filter(quarter == 2)"
"1","[1mRows: [22m[34m387[39m [1mColumns: [22m[34m14[39m
"
"1","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[32mdbl[39m (14): year, quarter, GDP, GDP_growth_quarterly, RDPI, RDPI_growth_quarterly, CPI, unemployment, sp500_open, sp500_high, sp500_low, sp500_clo...
"
"1","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message.
"
"0","d_pv <- read_csv(""popvote_1948_2020.csv"")"
"1","[1mRows: [22m[34m40[39m [1mColumns: [22m[34m11[39m
"
"1","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m (2): party, candidate
[32mdbl[39m (5): year, pv, pv2p, deminc, juneapp
[33mlgl[39m (4): winner, incumbent, incumbent_party, prev_admin
"
"1","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message.
"
"0","  d_pv$party[d_pv$party == ""democrat""] <- ""DEM"""
"0","  d_pv$party[d_pv$party == ""republican""] <- ""REP"""
"0","d_state_pv <- read_csv(""state_popvote_1948_2020.csv"")"
"1","[1mRows: [22m[34m959[39m [1mColumns: [22m[34m16[39m
"
"1","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m  (2): state, winner
[32mdbl[39m (14): year, D_pv, R_pv, D_pv2p, R_pv2p, D_pv_lag1, R_pv_lag1, D_pv2p_lag1, R_pv2p_lag1, D_pv_lag2, R_pv_lag2, D_pv2p_lag2, R_pv2p_lag2, margin
"
"1","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message.
"
"0","  d_state_pv <- d_state_pv |>"
"0","    select(year, state, D_pv2p) |>"
"0","    mutate(R_pv2p = 100-D_pv2p)"
"0","states <- map_data(""state"") |>"
"0","  rename(state = region)"
"0","states$state <- str_to_title(states$state)"
"0","demographics <- read_csv(""demographics.csv"")"
"1","[38;5;232mNew names:
[36mâ€¢[38;5;232m `` -> `...1`[39m
"
"1","[1mRows: [22m[34m663[39m [1mColumns: [22m[34m44[39m
"
"1","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m  (1): state
[32mdbl[39m (43): ...1, year, total_pop, white, black, american_indian, asian_pacific_islander, other_race, two_or_more_races, hispanic_white, hispanic_...
"
"1","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message.
"
"0","  demographics <- demographics |>"
"0","    filter(year >= 1980) |>"
"0","    mutate(non_hispanic_white = not_hispanic_white, "
"0","           african_american = not_hispanic_black, "
"0","           hispanic = (hispanic_white + hispanic_black), "
"0","           asian = asian_pacific_islander, "
"0","           native_american = american_indian) |>"
"0","    select(year, state, non_hispanic_white, african_american, hispanic, asian, native_american)"
"0",""
"0","# import and clean state voter files"
"0","state_voterfile <- list.files(""voterfile data"")"
"0","state_voterfile_complete <- read_csv(paste0(""voterfile data/"", state_voterfile[1]))"
"1","[1mRows: [22m[34m65896[39m [1mColumns: [22m[34m43[39m
"
"1","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m (19): sii_state, sii_age_range, sii_gender, sii_race, svi_party_registration, sii_education_level, sii_homeowner, sii_urbanicity, svi_vh_202...
[32mdbl[39m (16): sii_deceased, sii_age, sii_married, svi_vote_all_general, svi_vote_all_general_fed, svi_vote_all_general_fed_pct, svi_vote_all_general...
[33mlgl[39m  (8): svi_vh_2020pp_party, svi_vh_2021p_party, svi_vh_2023p, svi_vh_2023p_party, svi_vh_2023g, svi_vh_2024p, svi_vh_2024p_party, svi_vh_2024g
"
"1","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message.
"
"0","for (i in 2:length(state_voterfile)) {"
"0","  temp <- read_csv(paste0(""voterfile data/"",state_voterfile[i]))"
"0","  state_voterfile_complete <- rbind(state_voterfile_complete, temp)"
"0","}"
"1","[1mRows: [22m[34m216941[39m [1mColumns: [22m[34m43[39m
"
"1","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m (22): sii_state, sii_age_range, sii_gender, sii_race, svi_party_registration, sii_education_level, sii_homeowner, sii_urbanicity, svi_vh_202...
[32mdbl[39m (16): sii_deceased, sii_age, sii_married, svi_vote_all_general, svi_vote_all_general_fed, svi_vote_all_general_fed_pct, svi_vote_all_general...
[33mlgl[39m  (5): svi_vh_2020pp_party, svi_vh_2023p, svi_vh_2023p_party, svi_vh_2023g, svi_vh_2024g
"
"1","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message.
"
"1","[1mRows: [22m[34m103165[39m [1mColumns: [22m[34m43[39m
"
"1","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m (21): sii_state, sii_age_range, sii_gender, sii_race, svi_party_registration, sii_education_level, sii_homeowner, sii_urbanicity, svi_vh_202...
[32mdbl[39m (16): sii_deceased, sii_age, sii_married, svi_vote_all_general, svi_vote_all_general_fed, svi_vote_all_general_fed_pct, svi_vote_all_general...
[33mlgl[39m  (6): svi_vh_2020pp_party, svi_vh_2021p_party, svi_vh_2023p, svi_vh_2023p_party, svi_vh_2023g, svi_vh_2024g
"
"1","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message.
"
"1","[1mRows: [22m[34m100527[39m [1mColumns: [22m[34m43[39m
"
"1","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m (21): sii_state, sii_age_range, sii_gender, sii_race, svi_party_registration, sii_education_level, sii_homeowner, sii_urbanicity, svi_vh_202...
[32mdbl[39m (16): sii_deceased, sii_age, sii_married, svi_vote_all_general, svi_vote_all_general_fed, svi_vote_all_general_fed_pct, svi_vote_all_general...
[33mlgl[39m  (6): svi_vh_2021p_party, svi_vh_2023p, svi_vh_2023p_party, svi_vh_2023g, svi_vh_2024pp_party, svi_vh_2024g
"
"1","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message.
"
"1","[1mRows: [22m[34m50590[39m [1mColumns: [22m[34m43[39m
"
"1","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m (23): sii_state, sii_age_range, sii_gender, sii_race, svi_party_registration, sii_education_level, sii_homeowner, sii_urbanicity, svi_vh_202...
[32mdbl[39m (16): sii_deceased, sii_age, sii_married, svi_vote_all_general, svi_vote_all_general_fed, svi_vote_all_general_fed_pct, svi_vote_all_general...
[33mlgl[39m  (4): svi_vh_2023p, svi_vh_2023p_party, svi_vh_2023g, svi_vh_2024g
"
"1","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message.
"
"1","[1mRows: [22m[34m101796[39m [1mColumns: [22m[34m43[39m
"
"1","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m (22): sii_state, sii_age_range, sii_gender, sii_race, svi_party_registration, sii_education_level, sii_homeowner, sii_urbanicity, svi_vh_202...
[32mdbl[39m (16): sii_deceased, sii_age, sii_married, svi_vote_all_general, svi_vote_all_general_fed, svi_vote_all_general_fed_pct, svi_vote_all_general...
[33mlgl[39m  (5): svi_vh_2020pp_party, svi_vh_2023p, svi_vh_2023p_party, svi_vh_2023g, svi_vh_2024g
"
"1","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message.
"
"1","[1mRows: [22m[34m13017[39m [1mColumns: [22m[34m43[39m
"
"1","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m (23): sii_state, sii_age_range, sii_gender, sii_race, svi_party_registration, sii_education_level, sii_homeowner, sii_urbanicity, svi_vh_202...
[32mdbl[39m (16): sii_deceased, sii_age, sii_married, svi_vote_all_general, svi_vote_all_general_fed, svi_vote_all_general_fed_pct, svi_vote_all_general...
[33mlgl[39m  (4): svi_vh_2023p, svi_vh_2023p_party, svi_vh_2023g, svi_vh_2024g
"
"1","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message.
"
"1","[1mRows: [22m[34m18327[39m [1mColumns: [22m[34m43[39m
"
"1","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m (21): sii_state, sii_age_range, sii_gender, sii_race, svi_party_registration, sii_education_level, sii_homeowner, sii_urbanicity, svi_vh_202...
[32mdbl[39m (16): sii_deceased, sii_age, sii_married, svi_vote_all_general, svi_vote_all_general_fed, svi_vote_all_general_fed_pct, svi_vote_all_general...
[33mlgl[39m  (6): svi_vh_2020pp_party, svi_vh_2021p_party, svi_vh_2023p, svi_vh_2023p_party, svi_vh_2023g, svi_vh_2024g
"
"1","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message.
"
"1","[1mRows: [22m[34m30038[39m [1mColumns: [22m[34m43[39m
"
"1","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m (18): sii_state, sii_age_range, sii_gender, sii_race, svi_party_registration, sii_education_level, sii_homeowner, sii_urbanicity, svi_vh_202...
[32mdbl[39m (16): sii_deceased, sii_age, sii_married, svi_vote_all_general, svi_vote_all_general_fed, svi_vote_all_general_fed_pct, svi_vote_all_general...
[33mlgl[39m  (9): svi_vh_2020pp_party, svi_vh_2021p_party, svi_vh_2023p, svi_vh_2023p_party, svi_vh_2023g, svi_vh_2024p, svi_vh_2024p_party, svi_vh_2024...
"
"1","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message.
"
"1","[1mRows: [22m[34m118713[39m [1mColumns: [22m[34m43[39m
"
"1","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m (22): sii_state, sii_age_range, sii_gender, sii_race, svi_party_registration, sii_education_level, sii_homeowner, sii_urbanicity, svi_vh_202...
[32mdbl[39m (16): sii_deceased, sii_age, sii_married, svi_vote_all_general, svi_vote_all_general_fed, svi_vote_all_general_fed_pct, svi_vote_all_general...
[33mlgl[39m  (5): svi_vh_2020pp_party, svi_vh_2023p, svi_vh_2023p_party, svi_vh_2023g, svi_vh_2024g
"
"1","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message.
"
"1","[1mRows: [22m[34m253672[39m [1mColumns: [22m[34m43[39m
"
"1","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m (22): sii_state, sii_age_range, sii_gender, sii_race, svi_party_registration, sii_education_level, sii_homeowner, sii_urbanicity, svi_vh_202...
[32mdbl[39m (16): sii_deceased, sii_age, sii_married, svi_vote_all_general, svi_vote_all_general_fed, svi_vote_all_general_fed_pct, svi_vote_all_general...
[33mlgl[39m  (5): svi_vh_2021p_party, svi_vh_2023p, svi_vh_2023p_party, svi_vh_2023g, svi_vh_2024g
"
"1","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message.
"
"1","[1mRows: [22m[34m81119[39m [1mColumns: [22m[34m43[39m
"
"1","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m (22): sii_state, sii_age_range, sii_gender, sii_race, svi_party_registration, sii_education_level, sii_homeowner, sii_urbanicity, svi_vh_202...
[32mdbl[39m (16): sii_deceased, sii_age, sii_married, svi_vote_all_general, svi_vote_all_general_fed, svi_vote_all_general_fed_pct, svi_vote_all_general...
[33mlgl[39m  (5): svi_vh_2020pp_party, svi_vh_2023p, svi_vh_2023p_party, svi_vh_2023g, svi_vh_2024g
"
"1","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message.
"
"1","[1mRows: [22m[34m85513[39m [1mColumns: [22m[34m43[39m
"
"1","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m (21): sii_state, sii_age_range, sii_gender, sii_race, svi_party_registration, sii_education_level, sii_homeowner, sii_urbanicity, svi_vh_202...
[32mdbl[39m (16): sii_deceased, sii_age, sii_married, svi_vote_all_general, svi_vote_all_general_fed, svi_vote_all_general_fed_pct, svi_vote_all_general...
[33mlgl[39m  (6): svi_vh_2020pp_party, svi_vh_2023p, svi_vh_2023p_party, svi_vh_2023g, svi_vh_2024pp_party, svi_vh_2024g
"
"1","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message.
"
"0","state_abb_xwalk <- d_state_pv |>"
"0","  mutate(state_abb = state.abb[match(d_state_pv$state, state.name)]) |> "
"0","  select(state, state_abb) |> "
"0","  distinct() "
"0","state_abb_xwalk[51,]$state <- ""District of Columbia"""
"0","state_abb_xwalk[51,]$state_abb <- ""DC"""
"0",""
"0","state_voterfile_complete <- state_voterfile_complete |>"
"0","  filter(sii_deceased == 0) |>"
"0","  select(sii_state, sii_gender, sii_race, svi_party_registration) |>"
"0","  rename(state_abb = sii_state, "
"0","         gender = sii_gender,"
"0","         race = sii_race, "
"0","         reg_party = svi_party_registration) |>"
"0","  left_join(state_abb_xwalk, by = ""state_abb"") |>"
"0","  select(state, gender, race, reg_party)"
