"0","# plot 3: win margin for two-party vote share by state"
"0","d_pv_states$region <- tolower(d_pv_states$state) "
"0",""
"0","d_pv_states |>"
"0","  left_join(states, by = ""region"") |>"
"0","  mutate(margin = D_pv2p - R_pv2p) |>"
"0","  ggplot(aes(long, lat, group = group)) + "
"0","  facet_wrap(facets = year ~.) +"
"0","  geom_polygon(aes(fill = margin), color = ""white"")  +"
"0","  scale_fill_gradient2(high = ""dodgerblue2"", "
"0","                       low = ""firebrick2"", "
"0","                       mid = ""white"","
"0","                       name = ""Win Margin (%)"", "
"0","                       breaks = c(-100, -50, 0, 50, 100),"
"0","                       limits = c(-100, 100)) +"
"0","  labs("
"0","    title = ""Win Margin for Two-Party National Popular Vote by State (1948-2020)"""
"0","  ) +"
"0","  theme_void() +"
"0","  theme("
"0","    plot.title = element_text(hjust = 0.5, face = ""bold"", size = 18, vjust = 2), "
"0","    strip.text = element_text(size = 14),"
"0","    legend.title = element_text(size = 14, vjust = 4),"
"0","    legend.text = element_text(size = 12),"
"0","    legend.key.size = unit(1.5, ""lines"")"
"0","  )"
