"0","# expert prediction data set"
"0","d_expert <- d_cook_2020 |>"
"0","  left_join(d_sabato_2020, by = ""state"") |> "
"0","  mutate(rating_match = as.numeric(cook_rating == sabato_rating))"
"0",""
"0","# table 5: expert mismatch table"
"0","mismatch_table <- d_expert[d_expert$state %in% c(d_expert$state[d_expert$rating_match == 0]),] |>"
"0","  select(state, cook_text_rating, sabato_text_rating) "
"0",""
"0","color_palette <- c(""Solid Democrat"" = ""dodgerblue4"", "
"0","                   ""Likely Democrat"" = ""#6699FF"", "
"0","                   ""Lean Democrat"" = ""#99CCFF"","
"0","                   ""Toss Up"" = ""#CCCCCC"","
"0","                   ""Lean Republican"" = ""#FF9999"","
"0","                   ""Likely Republican"" = ""#FF6666"","
"0","                   ""Solid Republican"" = ""firebrick3"", "
"0","                   ""Democrat"" = ""dodgerblue4"", "
"0","                   ""Republican"" = ""firebrick3"")"
"0",""
"0","knitr::kable(mismatch_table, "
"0","             col.names = c(""State"", ""Cook Political Report"", ""Sabato's Crystal Ball"")) |>"
"0","  kableExtra::kable_styling(full_width = FALSE) |>"
"0","  column_spec(2, "
"0","              background = color_palette[mismatch_table$cook_text_rating], "
"0","              color = ""white"") |>"
"0","  column_spec(3, "
"0","              background = color_palette[mismatch_table$sabato_text_rating], "
"0","              color = ""white"")"
