select(state, D_fit, D_real, error) |>
arrange(desc(error))
rmse <- sqrt(mean((state_results$D_real - state_results$D_fit) ^ 2))
knitr::kable(state_error,
col.names = c("State", "Prediction", "Result", "Error Margin")) |>
kableExtra::kable_styling(full_width = FALSE)
state_votes_pres_2024 <- read_csv("state_votes_pres_2024.csv")
# hide code
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE, error = FALSE)
# import libraries
library(car)
library(caret)
library(CVXR)
library(glmnet)
library(tidyverse)
library(patchwork)
library(knitr)
library(sjPlot)
library(kableExtra)
library(maps)
library(readr)
library(stringr)
library(readxl)
library(scales)
library(ggpubr)
library(tigris)
library(sf)
library(tools)
# import data
national_results <- read_excel("national_results.xlsx")
state_results <- read_excel("state_results.xlsx")
state_votes_pres_2024 <- read_csv("state_votes_pres_2024.csv")
View(state_votes_pres_2024)
state_votes_pres_2024 |>
rename(state = `Geographic Name`)
state_votes_pres_2024 |>
rename(state = `Geographic Name`) |>
filter(state %in% c("Arizona", "Florida", "Georgia", "Michigan", "Minnesota", "Nevada", "New Hampshire", "New Mexico", "North Carolina", "Pennsylvania", "Texas", "Virginia", "Wisconsin"))
state_votes_pres_2024 |>
rename(state = `Geographic Name`) |>
filter(state %in% c("Arizona", "Florida", "Georgia", "Michigan", "Minnesota", "Nevada", "New Hampshire", "New Mexico", "North Carolina", "Pennsylvania", "Texas", "Virginia", "Wisconsin")) |>
mutate(D_real = round(`Kamala D. Harris`/(`Kamala D. Harris` + `Donald J. Trump`)*100),2)
state_votes_pres_2024 |>
rename(state = `Geographic Name`,
dem = `Kamala D. Harris`,
rep = `Donald J. Trump`) |>
filter(state %in% c("Arizona", "Florida", "Georgia", "Michigan", "Minnesota", "Nevada", "New Hampshire", "New Mexico", "North Carolina", "Pennsylvania", "Texas", "Virginia", "Wisconsin")) |>
mutate(D_real = round(dem/(dem + rep)*100),2)
state_votes_pres_2024 |>
rename(state = `Geographic Name`,
dem = `Kamala D. Harris`,
rep = `Donald J. Trump`) |>
filter(state %in% c("Arizona", "Florida", "Georgia", "Michigan", "Minnesota", "Nevada", "New Hampshire", "New Mexico", "North Carolina", "Pennsylvania", "Texas", "Virginia", "Wisconsin"))
state_votes_pres_2024 |>
rename(state = `Geographic Name`,
dem = `Kamala D. Harris`,
rep = `Donald J. Trump`) |>
filter(state %in% c("Arizona", "Florida", "Georgia", "Michigan", "Minnesota", "Nevada", "New Hampshire", "New Mexico", "North Carolina", "Pennsylvania", "Texas", "Virginia", "Wisconsin")) |>
group_by(state) |>
mutate(D_real = round(dem/(dem + rep)*100),2)
state_votes_pres_2024 |>
rename(state = `Geographic Name`,
dem = as.numeric(`Kamala D. Harris`),
rep = as.numeric(`Donald J. Trump`)) |>
filter(state %in% c("Arizona", "Florida", "Georgia", "Michigan", "Minnesota", "Nevada", "New Hampshire", "New Mexico", "North Carolina", "Pennsylvania", "Texas", "Virginia", "Wisconsin")) |>
group_by(state) |>
mutate(D_real = round(dem/(dem + rep)*100),2)
# hide code
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE, error = FALSE)
# import libraries
library(car)
library(caret)
library(CVXR)
library(glmnet)
library(tidyverse)
library(patchwork)
library(knitr)
library(sjPlot)
library(kableExtra)
library(maps)
library(readr)
library(stringr)
library(readxl)
library(scales)
library(ggpubr)
library(tigris)
library(sf)
library(tools)
# import data
national_results <- read_excel("national_results.xlsx")
state_results <- read_excel("state_results.xlsx")
state_votes_pres_2024 <- read_csv("state_votes_pres_2024.csv")
state_votes_pres_2024 |>
rename(state = `Geographic Name`,
dem = as.numeric(`Kamala D. Harris`),
rep = as.numeric(`Donald J. Trump`)) |>
filter(state %in% c("Arizona", "Florida", "Georgia", "Michigan", "Minnesota", "Nevada", "New Hampshire", "New Mexico", "North Carolina", "Pennsylvania", "Texas", "Virginia", "Wisconsin")) |>
group_by(state) |>
mutate(D_real = round(dem/(dem + rep)*100),2)
# hide code
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE, error = FALSE)
# import libraries
library(car)
library(caret)
library(CVXR)
library(glmnet)
library(tidyverse)
library(patchwork)
library(knitr)
library(sjPlot)
library(kableExtra)
library(maps)
library(readr)
library(stringr)
library(readxl)
library(scales)
library(ggpubr)
library(tigris)
library(sf)
library(tools)
# import data
national_results <- read_excel("national_results.xlsx")
state_results <- read_excel("state_results.xlsx")
d_state_2024 <- read_csv("state_votes_pres_2024.csv")
d_state_2024 <- d_state_2024 |>
mutate(FIPS = as.numeric(FIPS),
votes_trump = as.numeric(`Donald J. Trump`),
votes_harris = as.numeric(`Kamala D. Harris`),
votes = as.numeric(`Total Vote`),
trump_pv = votes_trump/votes,
harris_pv = votes_harris/votes,
trump_2pv = votes_trump/(votes_trump + votes_harris),
harris_2pv = votes_harris/(votes_trump + votes_harris)) |>
mutate(winner = case_when(votes_trump > votes_harris ~ "REP",
.default = "DEM")) |>
select(FIPS, `Geographic Name`, `Geographic Subtype`, votes_trump, votes_harris, votes,
winner, trump_pv, harris_pv, trump_2pv, harris_2pv)
View(state_votes_pres_2024)
# hide code
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE, error = FALSE)
# import libraries
library(car)
library(caret)
library(CVXR)
library(glmnet)
library(tidyverse)
library(patchwork)
library(knitr)
library(sjPlot)
library(kableExtra)
library(maps)
library(readr)
library(stringr)
library(readxl)
library(scales)
library(ggpubr)
library(tigris)
library(sf)
library(tools)
# import data
national_results <- read_excel("national_results.xlsx")
state_results <- read_excel("state_results.xlsx")
d_state_2024 <- read_csv("state_votes_pres_2024.csv")
d_state_2024 <- d_state_2024 |>
mutate(FIPS = as.numeric(FIPS),
votes_trump = as.numeric(`Donald J. Trump`),
votes_harris = as.numeric(`Kamala D. Harris`),
votes = as.numeric(`Total Vote`),
trump_pv = votes_trump/votes,
harris_pv = votes_harris/votes,
trump_2pv = votes_trump/(votes_trump + votes_harris),
harris_2pv = votes_harris/(votes_trump + votes_harris)) |>
mutate(winner = case_when(votes_trump > votes_harris ~ "REP",
.default = "DEM")) |>
select(FIPS, `Geographic Name`, `Geographic Subtype`, votes_trump, votes_harris, votes,
winner, trump_pv, harris_pv, trump_2pv, harris_2pv) |>
filter(state %in% c("Arizona", "Florida", "Georgia", "Michigan", "Minnesota", "Nevada", "New Hampshire", "New Mexico", "North Carolina", "Pennsylvania", "Texas", "Virginia", "Wisconsin"))
# hide code
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE, error = FALSE)
# import libraries
library(car)
library(caret)
library(CVXR)
library(glmnet)
library(tidyverse)
library(patchwork)
library(knitr)
library(sjPlot)
library(kableExtra)
library(maps)
library(readr)
library(stringr)
library(readxl)
library(scales)
library(ggpubr)
library(tigris)
library(sf)
library(tools)
# import data
national_results <- read_excel("national_results.xlsx")
state_results <- read_excel("state_results.xlsx")
d_state_2024 <- read_csv("state_votes_pres_2024.csv")
d_state_2024 <- d_state_2024 |>
mutate(FIPS = as.numeric(FIPS),
votes_trump = as.numeric(`Donald J. Trump`),
votes_harris = as.numeric(`Kamala D. Harris`),
votes = as.numeric(`Total Vote`),
trump_pv = votes_trump/votes,
harris_pv = votes_harris/votes,
trump_2pv = votes_trump/(votes_trump + votes_harris),
harris_2pv = votes_harris/(votes_trump + votes_harris)) |>
mutate(winner = case_when(votes_trump > votes_harris ~ "REP",
.default = "DEM")) |>
select(FIPS, `Geographic Name`, `Geographic Subtype`, votes_trump, votes_harris, votes,
winner, trump_pv, harris_pv, trump_2pv, harris_2pv) |>
filter(state %in% c("Arizona", "Florida", "Georgia", "Michigan", "Minnesota", "Nevada", "New Hampshire", "New Mexico", "North Carolina", "Pennsylvania", "Texas", "Virginia", "Wisconsin"))
# hide code
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE, error = FALSE)
# import libraries
library(car)
library(caret)
library(CVXR)
library(glmnet)
library(tidyverse)
library(patchwork)
library(knitr)
library(sjPlot)
library(kableExtra)
library(maps)
library(readr)
library(stringr)
library(readxl)
library(scales)
library(ggpubr)
library(tigris)
library(sf)
library(tools)
# import data
national_results <- read_excel("national_results.xlsx")
state_results <- read_excel("state_results.xlsx")
d_state_2024 <- read_csv("state_votes_pres_2024.csv")
d_state_2024 <- d_state_2024 |>
mutate(FIPS = as.numeric(FIPS),
votes_trump = as.numeric(`Donald J. Trump`),
votes_harris = as.numeric(`Kamala D. Harris`),
votes = as.numeric(`Total Vote`),
trump_pv = votes_trump/votes,
harris_pv = votes_harris/votes,
trump_2pv = votes_trump/(votes_trump + votes_harris),
harris_2pv = votes_harris/(votes_trump + votes_harris)) |>
mutate(winner = case_when(votes_trump > votes_harris ~ "REP",
.default = "DEM")) |>
select(FIPS, `Geographic Name`, `Geographic Subtype`, votes_trump, votes_harris, votes,
winner, trump_pv, harris_pv, trump_2pv, harris_2pv) |>
filter(`Geographic Name` %in% c("Arizona", "Florida", "Georgia", "Michigan", "Minnesota", "Nevada", "New Hampshire", "New Mexico", "North Carolina", "Pennsylvania", "Texas", "Virginia", "Wisconsin"))
View(state_votes_pres_2024)
# hide code
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE, error = FALSE)
# import libraries
library(car)
library(caret)
library(CVXR)
library(glmnet)
library(tidyverse)
library(patchwork)
library(knitr)
library(sjPlot)
library(kableExtra)
library(maps)
library(readr)
library(stringr)
library(readxl)
library(scales)
library(ggpubr)
library(tigris)
library(sf)
library(tools)
# import data
national_results <- read_excel("national_results.xlsx")
state_results <- read_excel("state_results.xlsx")
d_state_2024 <- read_csv("state_votes_pres_2024.csv")
d_state_2024 <- d_state_2024 |>
mutate(FIPS = as.numeric(FIPS),
votes_trump = as.numeric(`Donald J. Trump`),
votes_harris = as.numeric(`Kamala D. Harris`),
votes = as.numeric(`Total Vote`),
trump_pv = votes_trump/votes,
harris_pv = votes_harris/votes,
trump_2pv = votes_trump/(votes_trump + votes_harris),
harris_2pv = votes_harris/(votes_trump + votes_harris)) |>
mutate(winner = case_when(votes_trump > votes_harris ~ "REP",
.default = "DEM")) |>
select(FIPS, `Geographic Name`, `Geographic Subtype`, votes_trump, votes_harris, votes,
winner, trump_pv, harris_pv, trump_2pv, harris_2pv)
View(state_votes_pres_2024)
View(d_state_2024)
View(d_state_2024)
# hide code
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE, error = FALSE)
# import libraries
library(car)
library(caret)
library(CVXR)
library(glmnet)
library(tidyverse)
library(patchwork)
library(knitr)
library(sjPlot)
library(kableExtra)
library(maps)
library(readr)
library(stringr)
library(readxl)
library(scales)
library(ggpubr)
library(tigris)
library(sf)
library(tools)
# import data
national_results <- read_excel("national_results.xlsx")
state_results <- read_excel("state_results.xlsx")
d_state_2024 <- read_csv("state_votes_pres_2024.csv")
d_state_2024 <- d_state_2024 |>
mutate(FIPS = as.numeric(FIPS),
votes_trump = as.numeric(`Donald J. Trump`),
votes_harris = as.numeric(`Kamala D. Harris`),
votes = as.numeric(`Total Vote`),
trump_pv = votes_trump/votes,
harris_pv = votes_harris/votes,
trump_2pv = votes_trump/(votes_trump + votes_harris),
harris_2pv = votes_harris/(votes_trump + votes_harris)) |>
mutate(winner = case_when(votes_trump > votes_harris ~ "REP",
.default = "DEM")) |>
select(FIPS, `Geographic Name`, `Geographic Subtype`, votes_trump, votes_harris, votes,
winner, trump_pv, harris_pv, trump_2pv, harris_2pv) |>
filter(`Geographic Name` %in% c("Arizona", "Florida", "Georgia", "Michigan", "Minnesota", "Nevada", "New Hampshire", "New Mexico", "North Carolina", "Pennsylvania", "Texas", "Virginia", "Wisconsin"))
# hide code
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE, error = FALSE)
# import libraries
library(car)
library(caret)
library(CVXR)
library(glmnet)
library(tidyverse)
library(patchwork)
library(knitr)
library(sjPlot)
library(kableExtra)
library(maps)
library(readr)
library(stringr)
library(readxl)
library(scales)
library(ggpubr)
library(tigris)
library(sf)
library(tools)
# import data
national_results <- read_excel("national_results.xlsx")
state_results <- read_excel("state_results.xlsx")
d_state_2024 <- read_csv("state_votes_pres_2024.csv")
d_state_2024 <- d_state_2024 |>
mutate(FIPS = as.numeric(FIPS),
votes_trump = as.numeric(`Donald J. Trump`),
votes_harris = as.numeric(`Kamala D. Harris`),
votes = as.numeric(`Total Vote`),
trump_2pv = votes_trump/(votes_trump + votes_harris),
harris_2pv = votes_harris/(votes_trump + votes_harris)) |>
mutate(winner = case_when(votes_trump > votes_harris ~ "REP",
.default = "DEM")) |>
select(FIPS, `Geographic Name`, `Geographic Subtype`, votes_trump, votes_harris, votes,
winner, trump_pv, harris_pv, trump_2pv, harris_2pv) |>
filter(`Geographic Name` %in% c("Arizona", "Florida", "Georgia", "Michigan", "Minnesota", "Nevada", "New Hampshire", "New Mexico", "North Carolina", "Pennsylvania", "Texas", "Virginia", "Wisconsin")) |>
rename(state = `Geographic Name`,
D_real = harris_2pv) |>
select(state)
# hide code
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE, error = FALSE)
# import libraries
library(car)
library(caret)
library(CVXR)
library(glmnet)
library(tidyverse)
library(patchwork)
library(knitr)
library(sjPlot)
library(kableExtra)
library(maps)
library(readr)
library(stringr)
library(readxl)
library(scales)
library(ggpubr)
library(tigris)
library(sf)
library(tools)
# import data
national_results <- read_excel("national_results.xlsx")
state_results <- read_excel("state_results.xlsx")
d_state_2024 <- read_csv("state_votes_pres_2024.csv")
d_state_2024 <- d_state_2024 |>
mutate(FIPS = as.numeric(FIPS),
votes_trump = as.numeric(`Donald J. Trump`),
votes_harris = as.numeric(`Kamala D. Harris`),
votes = as.numeric(`Total Vote`),
trump_2pv = votes_trump/(votes_trump + votes_harris),
harris_2pv = votes_harris/(votes_trump + votes_harris)) |>
mutate(winner = case_when(votes_trump > votes_harris ~ "REP",
.default = "DEM")) |>
select(FIPS, `Geographic Name`, `Geographic Subtype`, votes_trump, votes_harris, votes,
winner, trump_2pv, harris_2pv) |>
filter(`Geographic Name` %in% c("Arizona", "Florida", "Georgia", "Michigan", "Minnesota", "Nevada", "New Hampshire", "New Mexico", "North Carolina", "Pennsylvania", "Texas", "Virginia", "Wisconsin")) |>
rename(state = `Geographic Name`,
D_real = harris_2pv) |>
select(state, D_real)
# hide code
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE, error = FALSE)
# import libraries
library(car)
library(caret)
library(CVXR)
library(glmnet)
library(tidyverse)
library(patchwork)
library(knitr)
library(sjPlot)
library(kableExtra)
library(maps)
library(readr)
library(stringr)
library(readxl)
library(scales)
library(ggpubr)
library(tigris)
library(sf)
library(tools)
# import data
national_results <- read_excel("national_results.xlsx")
state_results <- read_excel("state_results.xlsx")
d_state_2024 <- read_csv("state_votes_pres_2024.csv")
d_state_2024 <- d_state_2024 |>
mutate(FIPS = as.numeric(FIPS),
votes_trump = as.numeric(`Donald J. Trump`),
votes_harris = as.numeric(`Kamala D. Harris`),
votes = as.numeric(`Total Vote`),
trump_2pv = votes_trump/(votes_trump + votes_harris),
harris_2pv = votes_harris/(votes_trump + votes_harris)) |>
mutate(winner = case_when(votes_trump > votes_harris ~ "REP",
.default = "DEM")) |>
select(FIPS, `Geographic Name`, `Geographic Subtype`, votes_trump, votes_harris, votes,
winner, trump_2pv, harris_2pv) |>
filter(`Geographic Name` %in% c("Arizona", "Florida", "Georgia", "Michigan", "Minnesota", "Nevada", "New Hampshire", "New Mexico", "North Carolina", "Pennsylvania", "Texas", "Virginia", "Wisconsin")) |>
rename(state = `Geographic Name`,
D_real = harris_2pv) |>
mutate(D_real = round(D_real*100),2) |>
select(state, D_real)
d_state_2024 <- d_state_2024 |>
mutate(FIPS = as.numeric(FIPS),
votes_trump = as.numeric(`Donald J. Trump`),
votes_harris = as.numeric(`Kamala D. Harris`),
votes = as.numeric(`Total Vote`),
trump_2pv = votes_trump/(votes_trump + votes_harris),
harris_2pv = votes_harris/(votes_trump + votes_harris)) |>
mutate(winner = case_when(votes_trump > votes_harris ~ "REP",
.default = "DEM")) |>
select(FIPS, `Geographic Name`, `Geographic Subtype`, votes_trump, votes_harris, votes,
winner, trump_2pv, harris_2pv) |>
filter(`Geographic Name` %in% c("Arizona", "Florida", "Georgia", "Michigan", "Minnesota", "Nevada", "New Hampshire", "New Mexico", "North Carolina", "Pennsylvania", "Texas", "Virginia", "Wisconsin")) |>
rename(state = `Geographic Name`,
D_real = harris_2pv)
# hide code
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE, error = FALSE)
# import libraries
library(car)
library(caret)
library(CVXR)
library(glmnet)
library(tidyverse)
library(patchwork)
library(knitr)
library(sjPlot)
library(kableExtra)
library(maps)
library(readr)
library(stringr)
library(readxl)
library(scales)
library(ggpubr)
library(tigris)
library(sf)
library(tools)
# import data
national_results <- read_excel("national_results.xlsx")
state_results <- read_excel("state_results.xlsx")
d_state_2024 <- read_csv("state_votes_pres_2024.csv")
d_state_2024 <- d_state_2024 |>
mutate(FIPS = as.numeric(FIPS),
votes_trump = as.numeric(`Donald J. Trump`),
votes_harris = as.numeric(`Kamala D. Harris`),
votes = as.numeric(`Total Vote`),
trump_2pv = votes_trump/(votes_trump + votes_harris),
harris_2pv = votes_harris/(votes_trump + votes_harris)) |>
mutate(winner = case_when(votes_trump > votes_harris ~ "REP",
.default = "DEM")) |>
select(FIPS, `Geographic Name`, `Geographic Subtype`, votes_trump, votes_harris, votes,
winner, trump_2pv, harris_2pv) |>
filter(`Geographic Name` %in% c("Arizona", "Florida", "Georgia", "Michigan", "Minnesota", "Nevada", "New Hampshire", "New Mexico", "North Carolina", "Pennsylvania", "Texas", "Virginia", "Wisconsin")) |>
rename(state = `Geographic Name`,
D_real = harris_2pv) |>
mutate(D_real = round(D_real*100),2) |>
select(state, D_real)
